(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{12:function(e,t,n){},28:function(e,t,n){e.exports=n(59)},33:function(e,t,n){},34:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(25),l=n.n(c),r=(n(33),n(26)),i=n(1),s=(n(34),n(10));function u(){return o.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},o.a.createElement("div",{className:"navbar-brand"},"Search Google Books"))}var m=n(8),d=n.n(m),f=function(){return d.a.get("/api/books")},b=function(e){return d.a.delete("/api/books/"+e)},h=function(e){return d.a.post("/api/books",e)};n(12);function v(e){return e.book?o.a.createElement("li",{className:"list-group-item shadow-sm",key:e.book.title},o.a.createElement("div",{className:"row mb-2"},o.a.createElement("div",{className:"col-md-8"},o.a.createElement("h3",null,e.book.title),o.a.createElement("h5",{className:"author-display"},e.book.authors?e.book.authors.join(", "):"No authors attributed")),o.a.createElement("div",{className:"col-md-4 d-flex align-items-center justify-content-center"},"search"===e.type?o.a.createElement("button",{className:"btn btn-success",onClick:function(t){h({title:e.book.title,authors:e.book.authors,imageLinks:e.book.imageLinks||"",description:e.book.description,previewLink:e.book.previewLink}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},"Save"):o.a.createElement("button",{className:"btn btn-danger",data_bookId:e.book._id,onClick:function(e){b(e.target.getAttribute("data_bookId")).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},"Remove"),o.a.createElement("button",{className:"btn btn-info",onClick:function(t){window.open(e.book.previewLink)}},"View"))),o.a.createElement("div",{className:"br mb-2"}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col d-flex description-content"},o.a.createElement("img",{src:e.book.imageLinks?e.book.imageLinks.thumbnail:"https://via.placeholder.com/128x195.png?text=No+thumbnail+available",alt:e.book.title+"-thumbnail"}),o.a.createElement("p",null,e.book.description||"No description available")))):null}function p(e){return o.a.createElement("div",{className:"container"},o.a.createElement("ul",{className:"list-group-item shadow-sm",id:"results-list"},e.items.map((function(t){return o.a.createElement(v,{type:e.type,book:t})}))))}function g(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){f().then((function(e){c(e.data),console.log(e)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement("h2",null,"My Saved Books"),o.a.createElement(p,{type:"saved",items:n||[]}))}function k(e){return o.a.createElement("div",{className:"container mt-5"},o.a.createElement("form",{id:"search-form",className:"row input-group shadow-sm",onSubmit:e.onSubmit},o.a.createElement("label",{className:"align-middle text-center form-label col-sm-2 col-form-label",htmlFor:"book-search-field",style:{fontSize:"20px"}},"Search"),o.a.createElement("div",{className:"col-sm-10 input-group"},o.a.createElement("input",{className:"form-control form-control-lg",id:"book-search-field",type:"text",onChange:e.onChange}),o.a.createElement("button",{className:"btn btn-primary",type:"button",style:{width:"80px"}},"Go"))))}function E(){var e=Object(a.useState)({term:""}),t=Object(s.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(),r=Object(s.a)(l,2),i=r[0],m=r[1];return o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement(k,{value:n,onSubmit:function(e){e.preventDefault(),d.a.get("https://www.googleapis.com/books/v1/volumes?maxResults=25&orderBy=relevance&q="+n.term).then((function(e){m(e.data.items.map((function(e){return e.volumeInfo}))),console.log(e)})).catch((function(e){console.log(e)}))},onChange:function(e){c({term:e.target.value})}}),i?o.a.createElement(p,{type:"search",items:i}):null)}var w=function(){return o.a.createElement(r.a,null,o.a.createElement("div",null,o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:["/","/search"]},o.a.createElement(E,null)),o.a.createElement(i.a,{exact:!0,path:["/saved"]},o.a.createElement(g,null)))))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(58);l.a.render(o.a.createElement(w,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");N?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):y(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):y(e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.3990644b.chunk.js.map